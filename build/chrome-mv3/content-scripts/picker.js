var picker=(function(){"use strict";function G(t){return t}const h=globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;async function A(t,n){const e=h.runtime.getURL(t),o=document.createElement("script");h.runtime.getManifest().manifest_version===2?o.text=await fetch(e).then(u=>u.text()):o.src=e;const a=M(o);return await n?.modifyScript?.(o),(document.head??document.documentElement).append(o),n?.keepInDom||o.remove(),await a,{script:o}}function M(t){return new Promise((n,e)=>{const o=()=>{n(),u()},a=()=>{e(new Error(`Failed to load script: ${t.src}`)),u()},u=()=>{t.removeEventListener("load",o),t.removeEventListener("error",a)};t.addEventListener("load",o),t.addEventListener("error",a)})}const P={matches:["<all_urls>"],runAt:"document_idle",async main(){let t=!1,n=0,e=null,o=null,a=null,u=new WeakMap,E=null,m=null,y=null;o=(await A("/component-reader.js",{keepInDom:!0})).script,chrome.runtime.onMessage.addListener((i,r,l)=>{if(i.type==="START_PICK"&&(n=i.depth,$(),l({ok:!0})),i.type==="DETECT_FRAMEWORK"){const c=crypto.randomUUID(),s=(d=>{d.detail.detectId===c&&(o?.removeEventListener("rct-detect-framework-result",s),b({type:"DETECT_RESULT",available:d.detail.available,framework:d.detail.framework}))});o?.addEventListener("rct-detect-framework-result",s),o?.dispatchEvent(new CustomEvent("rct-detect-framework",{detail:{detectId:c}})),l({ok:!0})}return!1});function $(){t||(t=!0,N(),q(),document.addEventListener("mousemove",C,!0),document.addEventListener("click",I,!0),document.addEventListener("keydown",R,!0))}function x(){t&&(t=!1,document.removeEventListener("mousemove",C,!0),document.removeEventListener("click",I,!0),document.removeEventListener("keydown",R,!0),j(),z(),m!==null&&(clearTimeout(m),m=null),E=null,y=null,u=new WeakMap)}function N(){e||(e=document.createElement("div"),e.id="rct-picker-overlay",Object.assign(e.style,{position:"fixed",border:"2px solid #F97316",backgroundColor:"rgba(249, 115, 22, 0.1)",pointerEvents:"none",zIndex:"2147483647",transition:"all 50ms ease-out",display:"none"}),document.body.appendChild(e))}function j(){e&&(e.remove(),e=null)}const W={react:"#0ea5e9",vue:"#42b883",angular:"#dd0031",svelte:"#ff3e00"};function q(){a||(a=document.createElement("div"),a.id="rct-hover-tooltip",Object.assign(a.style,{position:"fixed",background:"#161b22",border:"1px solid #30363d",borderRadius:"6px",padding:"8px 12px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',fontSize:"12px",lineHeight:"1.5",color:"#e6edf3",overflow:"visible",zIndex:"2147483646",pointerEvents:"none",display:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.4)",whiteSpace:"pre"}),document.body.appendChild(a))}function z(){a&&(a.remove(),a=null)}function k(i){if(!a)return;const r=8,l=a.getBoundingClientRect();let c=i.top-l.height-r;c<4&&(c=i.bottom+r);let s=i.left;const d=window.innerWidth-l.width-4;s>d&&(s=d),s<4&&(s=4),Object.assign(a.style,{top:c+"px",left:s+"px"})}function T(i,r,l){if(!a)return;const s=`<span style="display:inline-block;background:${W[r]};color:#000;font-weight:600;padding:1px 6px;border-radius:3px;font-size:11px;margin-bottom:4px;">${r}</span>`,d=i.map((p,S)=>{const Y="&nbsp;".repeat(S),H=S===i.length-1?"└ ":"├ ",B=S===i.length-1?`<span style="color:#F97316;font-weight:700;background:rgba(249,115,22,0.15);padding:0 4px;border-radius:3px;">${p}</span>`:p;return`${Y}${H}${B}`}).join(`
`);a.innerHTML=s+`
`+d,a.style.display="block",k(l)}function K(i,r){const l=u.get(i);if(l){T(l.components,l.framework,r);return}document.querySelectorAll("[data-rct-hover]").forEach(d=>{d.removeAttribute("data-rct-hover")}),i.setAttribute("data-rct-hover","true");const c=crypto.randomUUID();y=c;const s=(d=>{if(d.detail.hoverId===c&&(o?.removeEventListener("rct-hover-tree-result",s),i.removeAttribute("data-rct-hover"),y===c))if(d.detail.components&&d.detail.framework){const p={components:d.detail.components,framework:d.detail.framework};u.set(i,p),E===i&&T(p.components,p.framework,r)}else a&&(a.style.display="none")});o?.addEventListener("rct-hover-tree-result",s),o?.dispatchEvent(new CustomEvent("rct-get-hover-tree",{detail:{hoverId:c,depth:n}}))}function C(i){const r=i.target;if(!r||!e||r===e||r.id==="rct-picker-overlay"||r===a||r.id==="rct-hover-tooltip")return;const l=r.getBoundingClientRect();if(Object.assign(e.style,{top:l.top+"px",left:l.left+"px",width:l.width+"px",height:l.height+"px",display:"block"}),r===E){a&&a.style.display!=="none"&&k(l);return}E=r,m!==null&&clearTimeout(m),a&&(a.style.display="none"),m=setTimeout(()=>{m=null,K(r,l)},150)}function I(i){i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation();const r=i.target;if(!r||r===e)return;document.querySelectorAll("[data-rct-pick]").forEach(s=>{s.removeAttribute("data-rct-pick")}),r.setAttribute("data-rct-pick","true");const l=crypto.randomUUID(),c=(s=>{if(s.detail.pickId===l){if(o?.removeEventListener("rct-fiber-path-result",c),r.removeAttribute("data-rct-pick"),x(),s.detail.error)b({type:"PICK_ERROR",error:s.detail.error,framework:s.detail.framework});else if(s.detail.path){const d=s.detail.framework;navigator.clipboard.writeText(s.detail.path).then(()=>{V(s.detail.path),b({type:"PICK_RESULT",path:s.detail.path,framework:d})},p=>b({type:"PICK_ERROR",error:`Clipboard write failed: ${p}`,framework:d}))}}});o?.addEventListener("rct-fiber-path-result",c),o?.dispatchEvent(new CustomEvent("rct-get-fiber-path",{detail:{pickId:l,depth:n}}))}function R(i){i.key==="Escape"&&(i.preventDefault(),i.stopPropagation(),x())}function V(i){const r=document.createElement("div");Object.assign(r.style,{position:"fixed",top:"0",left:"0",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px 16px",background:"linear-gradient(135deg, #161b22 0%, #1c2333 100%)",borderBottom:"2px solid #F97316",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',pointerEvents:"none",zIndex:"2147483647",opacity:"1",transform:"translateY(0)",transition:"opacity 300ms ease, transform 300ms ease",boxShadow:"0 4px 24px rgba(0, 0, 0, 0.4)"});const l=document.createElement("span");l.textContent="✓",Object.assign(l.style,{color:"#2ea043",fontSize:"16px",fontWeight:"700"});const c=document.createElement("span");c.textContent="Copied",Object.assign(c.style,{color:"#e6edf3",fontSize:"13px",fontWeight:"600"});const s=document.createElement("span");s.textContent=i,Object.assign(s.style,{color:"#F97316",fontSize:"12px",fontFamily:'ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace',maxWidth:"50vw",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),r.appendChild(l),r.appendChild(c),r.appendChild(s),document.body.appendChild(r),setTimeout(()=>{r.style.opacity="0",r.style.transform="translateY(-100%)",setTimeout(()=>r.remove(),350)},1500)}function b(i){chrome.runtime.sendMessage(i)}}};function v(t,...n){}const _={debug:(...t)=>v(console.debug,...t),log:(...t)=>v(console.log,...t),warn:(...t)=>v(console.warn,...t),error:(...t)=>v(console.error,...t)};var F=class L extends Event{static EVENT_NAME=w("wxt:locationchange");constructor(n,e){super(L.EVENT_NAME,{}),this.newUrl=n,this.oldUrl=e}};function w(t){return`${h?.runtime?.id}:picker:${t}`}function O(t){let n,e;return{run(){n==null&&(e=new URL(location.href),n=t.setInterval(()=>{let o=new URL(location.href);o.href!==e.href&&(window.dispatchEvent(new F(o,e)),e=o)},1e3))}}}var D=class f{static SCRIPT_STARTED_MESSAGE_TYPE=w("wxt:content-script-started");id;abortController;locationWatcher=O(this);constructor(n,e){this.contentScriptName=n,this.options=e,this.id=Math.random().toString(36).slice(2),this.abortController=new AbortController,this.stopOldScripts(),this.listenForNewerScripts()}get signal(){return this.abortController.signal}abort(n){return this.abortController.abort(n)}get isInvalid(){return h.runtime?.id==null&&this.notifyInvalidated(),this.signal.aborted}get isValid(){return!this.isInvalid}onInvalidated(n){return this.signal.addEventListener("abort",n),()=>this.signal.removeEventListener("abort",n)}block(){return new Promise(()=>{})}setInterval(n,e){const o=setInterval(()=>{this.isValid&&n()},e);return this.onInvalidated(()=>clearInterval(o)),o}setTimeout(n,e){const o=setTimeout(()=>{this.isValid&&n()},e);return this.onInvalidated(()=>clearTimeout(o)),o}requestAnimationFrame(n){const e=requestAnimationFrame((...o)=>{this.isValid&&n(...o)});return this.onInvalidated(()=>cancelAnimationFrame(e)),e}requestIdleCallback(n,e){const o=requestIdleCallback((...a)=>{this.signal.aborted||n(...a)},e);return this.onInvalidated(()=>cancelIdleCallback(o)),o}addEventListener(n,e,o,a){e==="wxt:locationchange"&&this.isValid&&this.locationWatcher.run(),n.addEventListener?.(e.startsWith("wxt:")?w(e):e,o,{...a,signal:this.signal})}notifyInvalidated(){this.abort("Content script context invalidated"),_.debug(`Content script "${this.contentScriptName}" context invalidated`)}stopOldScripts(){document.dispatchEvent(new CustomEvent(f.SCRIPT_STARTED_MESSAGE_TYPE,{detail:{contentScriptName:this.contentScriptName,messageId:this.id}})),window.postMessage({type:f.SCRIPT_STARTED_MESSAGE_TYPE,contentScriptName:this.contentScriptName,messageId:this.id},"*")}verifyScriptStartedEvent(n){const e=n.detail?.contentScriptName===this.contentScriptName,o=n.detail?.messageId===this.id;return e&&!o}listenForNewerScripts(){const n=e=>{!(e instanceof CustomEvent)||!this.verifyScriptStartedEvent(e)||this.notifyInvalidated()};document.addEventListener(f.SCRIPT_STARTED_MESSAGE_TYPE,n),this.onInvalidated(()=>document.removeEventListener(f.SCRIPT_STARTED_MESSAGE_TYPE,n))}};function Q(){}function g(t,...n){}const U={debug:(...t)=>g(console.debug,...t),log:(...t)=>g(console.log,...t),warn:(...t)=>g(console.warn,...t),error:(...t)=>g(console.error,...t)};return(async()=>{try{const{main:t,...n}=P;return await t(new D("picker",n))}catch(t){throw U.error('The content script "picker" crashed on startup!',t),t}})()})();
picker;