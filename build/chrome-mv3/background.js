var background=(function(){"use strict";function i(e){return e==null||typeof e=="function"?{main:e}:e}const t="rctHistory",u=20;async function l(){const e=await chrome.storage.local.get(t);return Array.isArray(e[t])?e[t]:[]}async function d(e,s){const a=await l(),r=[{path:e,framework:s,timestamp:Date.now()},...a].slice(0,u);return await chrome.storage.local.set({[t]:r}),r}const f=i(()=>{chrome.runtime.onMessage.addListener((e,s,a)=>{if(e.type==="START_PICK")return chrome.tabs.query({active:!0,currentWindow:!0},c=>{const r=c[0]?.id;r&&chrome.tabs.sendMessage(r,e)}),a({ok:!0}),!1;if(e.type==="PICK_RESULT")return d(e.path,e.framework),chrome.runtime.sendMessage(e).catch(()=>{}),!1;if(e.type==="PICK_ERROR")return chrome.runtime.sendMessage(e).catch(()=>{}),!1})});function b(){}globalThis.browser?.runtime?.id?globalThis.browser:globalThis.chrome;function n(e,...s){}const h={debug:(...e)=>n(console.debug,...e),log:(...e)=>n(console.log,...e),warn:(...e)=>n(console.warn,...e),error:(...e)=>n(console.error,...e)};let o;try{o=f.main(),o instanceof Promise&&console.warn("The background's main() function return a promise, but it must be synchronous")}catch(e){throw h.error("The background crashed on startup!"),e}var y=o;return y})();
